package Files;

import java.io.File;
import java.io.FileWriter;
import java.io.IOException;
import java.io.InputStream;
//Java Program to illustrate reading from text file
//as string in Java
import java.nio.file.*;
import java.util.*;

public class _Files {

public static String readFileAsString(String fileName)throws Exception
{
 String data = "";
 data = new String(Files.readAllBytes(Paths.get(fileName)));
 return data;
}

public static void main(String[] args) throws Exception
{
 String data = readFileAsString("/home/ccoew/3476/Assgn1/src/one.txt");

 String[] s = data.split("\\W");
 
 String symbols[] = data.split("\\w");
 System.out.println(symbol.toString());
 
 String sym="";
 for(String e : symbols){
	    if(!e.isEmpty()){    
		 sym.concat(e);
	    }
	    
 }
 System.out.println(sym);
 
 ArrayList<String> str = new ArrayList<String>();
 for(String e : s){
    if(!e.isEmpty()){    
	 str.add(e);
    }
    
 }
 System.out.print(str.toString());
 int counter = 3;
 	
 for(String w :str) {
	
	 if(w.matches("\\d*")||w.matches("\\D")||w.matches(".REG+")&&counter!=3)
	 { 
		 //separate operands
		 
		 System.out.print(w+" ");

		 if(counter==1){
			 System.out.print(counter+" ");
		     counter=3;	
		     write("/home/ccoew/3476/Assgn1/src/Files/op2.text",w);
		     	   
		 }

		 if(counter==2){

		     write("/home/ccoew/3476/Assgn1/src/Files/op1.text",w);
		     	   
			 System.out.print(counter+" ");
		     counter--;				 
		 }

		 
	 }
	 else {
 		 
       //else it is instruction
		 System.out.print(w+" ");
	     

	     write("/home/ccoew/3476/Assgn1/src/Files/instr.text",w);
	     	   
		 if(counter==1){
			 
			 
			 System.out.print(counter+" ");
		     counter=2;				 
		 }

		 else if(counter==3){
			 System.out.println(counter+" ");
		     counter--;				 
		 }
	 }
	 
	 }

}

public static void write(String path,String update){
	try {
		FileWriter file = new FileWriter(path,true);
		file.write(update);
		file.close();
	} catch (IOException e) {
		// TODO Auto-generated catch block
		e.printStackTrace();
	}

}

}